{% extends "base.html" %}
{% block title %}{{ "Редактирование" if question else "Создание" }} вопроса{% endblock %}
{% block content %}
<h1 class="mb-4">{{ "Редактирование" if question else "Создание" }} вопроса</h1>

<p>
  <a href="{{ url_for('admin.questions_list', survey_id=survey.id) }}" class="btn btn-link p-0">
    &larr; Назад к вопросам
  </a>
</p>

{% if error %}
  <div class="alert alert-danger">{{ error }}</div>
{% endif %}

<form method="post" class="card p-3">
  <div class="mb-3">
    <label class="form-label">Текст вопроса</label>
    <textarea name="text" class="form-control" rows="3" required>{{ question.text if question else '' }}</textarea>
  </div>

  <div class="mb-3">
    <label class="form-label">Тип вопроса</label>
    <select name="type" class="form-select">
    <option value="single_choice" {% if question and question.type=='single_choice' %}selected{% endif %}>Один вариант</option>

    <option value="multiple_choice" {% if question and question.type=='multiple_choice' %}selected{% endif %}>Несколько вариантов</option>

    <option value="text" {% if question and question.type=='text' %}selected{% endif %}>Короткий текст</option>

    <option value="long_text" {% if question and question.type=='long_text' %}selected{% endif %}>Развёрнутый текст</option>

    <option value="number" {% if question and question.type=='number' %}selected{% endif %}>Числовой ответ</option>

    <option value="range" {% if question and question.type=='range' %}selected{% endif %}>Шкала (1–10)</option>

    <option value="date" {% if question and question.type=='date' %}selected{% endif %}>Дата</option>
    </select>
  </div>

  <button type="submit" class="btn btn-primary">Сохранить</button>
</form>
{% endblock %}
